$(document).ready(function(){var l=new Date,h=String(l.getDate()).padStart(2,"0"),v=String(l.getMonth()+1).padStart(2,"0"),p=l.getFullYear(),l=v+"/"+h+"/"+p;$(".current-recent-mail").text(l+" -"),new PerfectScrollbar(".message-box-scroll"),new PerfectScrollbar(".mail-sidebar-scroll",{suppressScrollX:!0});function b(){$(".mailbox-inbox .collapse").each(function(){new PerfectScrollbar($(this)[0],{suppressScrollX:!0})})}b();function o(e){var t=e;$(".mail-item");var a=$(".mail-item.mailInbox"),i=$('[id*="unread-"]'),y=$(".mail-item.draft");a.length;var r=i.length,c=y.length,d=$("#mailInbox .mail-badge"),m=$("#draft .mail-badge");if(t==="mailInbox"){if(r===0){d.text("");return}d.text(r)}else if(t==="draftmail"){if(c===0){m.text("");return}m.text(c)}}o("mailInbox"),o("draftmail"),$("#btn-compose-mail").on("click",function(e){$("#btn-send").show(),$("#btn-reply").hide(),$("#btn-fwd").hide(),$("#composeMailModal").modal("show"),$("#btn-save").show(),$("#btn-reply-save").hide(),$("#btn-fwd-save").hide()}),document.getElementById("inboxAll").addEventListener("click",function(){var e=document.querySelectorAll(".tab-title .list-actions.active"),t="."+e[0].id,a="";if(e[0].id==="personal"||e[0].id==="work"||e[0].id==="social"||e[0].id==="private"){getItemsGroupCheckboxes=document.querySelectorAll(t);for(var i=0;i<getItemsGroupCheckboxes.length;i++)getItemsGroupCheckboxes[i].parentNode.parentNode.parentNode,a=document.querySelectorAll("."+getItemsGroupCheckboxes[i].parentNode.parentNode.parentNode.className.split(" ")[0]+" "+t+" .inbox-chkbox"),a[i].checked?a[i].checked=!1:this.checked&&(a[i].checked=!0)}else{a=document.querySelectorAll(".mail-item"+t+" .inbox-chkbox");for(var i=0;i<a.length;i++)a[i].checked?a[i].checked=!1:this.checked&&(a[i].checked=!0)}}),$(".input-search").on("keyup",function(){var e=new RegExp($(this).val(),"i");$(".message-box .mail-item").hide(),$(".message-box .mail-item").filter(function(){return e.test($(this).text())}).show()}),$('[data-toggle="tooltip"]').tooltip({template:'<div class="tooltip actions-btn-tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),$(".close-message").on("click",function(e){e.preventDefault(),$(".content-box .collapse").collapse("hide"),$(this).parents(".content-box").css({width:"0",left:"auto",right:"-46px"})}),$(".mail-menu").on("click",function(e){$(this).parents(".mail-box-container").children(".tab-title").addClass("mail-menu-show"),$(this).parents(".mail-box-container").children(".mail-overlay").addClass("mail-overlay-show")}),$(".mail-overlay").on("click",function(e){$(this).parents(".mail-box-container").children(".tab-title").removeClass("mail-menu-show"),$(this).removeClass("mail-overlay-show")});function u(){$(".content-box .collapse").on("show.bs.collapse",function(e){var t=this.id,a=$(".content-box").find(".mail-title"),i=$(this).find(".mail-content").attr("data-mailTitle");$(this).parent(".content-box").css({width:"100%",right:"0",left:"100%"}),$(this).parents("#mailbox-inbox").find('.message-box [data-target="#'+t+'"]').parents(".mail-item").removeAttr("id"),a.text(i),a.attr("data-selectedMailTitle",i),o("mailInbox")})}function f(){$(".mail-item-heading .mail-item-inner .new-control, .mail-item-heading .mail-item-inner .new-control-input").on("click",function(e){e.stopPropagation(),console.log("sdfsf"),e.isPropagationStopped?(console.log("yes"),console.timeLog(),console.log(e)):console.log("no")})}new Quill("#editor-container",{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},placeholder:"Compose an epic...",theme:"snow"});var n=document.getElementsByClassName("validation-text"),s=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;document.getElementById("m-to").addEventListener("input",function(){let e=this.value;e==""?(n[0].innerHTML="Email Required",n[0].style.display="block"):s.test(e)==!1?(n[0].innerHTML="Invalid Email",n[0].style.display="block"):n[0].style.display="none"}),document.getElementById("m-cc").addEventListener("input",function(){let e=this.value;!e==""&&s.test(e)==!1?(n[1].innerHTML="Invalid Email",n[1].style.display="block"):n[1].style.display="none"}),document.getElementById("m-subject").addEventListener("input",function(){this.value==""?(n[2].innerHTML="Subject Required",n[2].style.display="block"):n[2].style.display="none"});var g=$(".list-actions").click(function(){$(this).parents(".mail-box-container").find(".mailbox-inbox > .content-box").css({width:"0",right:"auto",left:"-46px"}),$(".content-box .collapse").collapse("hide");var e=$(this).parents(".mail-box-container").find(".action-center");if(this.id=="mailInbox"){var t=$("."+this.id).show();e.removeClass("tab-trash-active"),$("#ct > div").not(t).hide()}else if(this.id=="personal")t="."+$(this).attr("id"),$elShow=$(t).show(),e.removeClass("tab-trash-active"),$("#ct > div .mail-item-heading"+t).parents(".mail-item").show(),$("#ct > div .mail-item-heading").not(t).parents(".mail-item").hide();else if(this.id=="work")t="."+$(this).attr("id"),$elShow=$(t).show(),e.removeClass("tab-trash-active"),$("#ct > div .mail-item-heading"+t).parents(".mail-item").show(),$("#ct > div .mail-item-heading").not(t).parents(".mail-item").hide();else if(this.id=="social")t="."+$(this).attr("id"),$elShow=$(t).show(),e.removeClass("tab-trash-active"),$("#ct > div .mail-item-heading"+t).parents(".mail-item").show(),$("#ct > div .mail-item-heading").not(t).parents(".mail-item").hide();else if(this.id=="private")t="."+$(this).attr("id"),$elShow=$(t).show(),e.removeClass("tab-trash-active"),$("#ct > div .mail-item-heading"+t).parents(".mail-item").show(),$("#ct > div .mail-item-heading").not(t).parents(".mail-item").hide(),e.removeClass("tab-trash-active");else if(this.id=="trashed"){var t=$("."+this.id).show();e.addClass("tab-trash-active"),$("#ct > div").not(t).hide()}else{var t=$("."+this.id).show();e.removeClass("tab-trash-active"),$("#ct > div").not(t).hide()}g.removeClass("active"),$(this).addClass("active")});setTimeout(function(){$(".list-actions#mailInbox").trigger("click")},10);function x(){$(".reply").on("click",function(e){$("#btn-reply").show(),$("#btn-send").hide(),$("#btn-fwd").hide(),$("#btn-reply-save").show(),$("#btn-fwd-save").hide(),$("#btn-save").hide(),$("#composeMailModal").modal("show")})}function w(){$(".forward").on("click",function(e){$("#btn-fwd").show(),$("#btn-reply").hide(),$("#btn-send").hide(),$("#btn-fwd-save").show(),$("#btn-reply-save").hide(),$("#btn-save").hide(),$("#composeMailModal").modal("show")})}x(),w(),u(),f(),$(".tab-title .nav-pills a.nav-link").on("click",function(e){$(this).parents(".mail-box-container").find(".tab-title").removeClass("mail-menu-show"),$(this).parents(".mail-box-container").find(".mail-overlay").removeClass("mail-overlay-show")})});
